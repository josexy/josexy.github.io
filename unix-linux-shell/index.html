

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.ico">
  <link rel="icon" href="/img/favicon.ico">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="本文主要是参考书上内容并总结出来的，因此无法全面概述每一个shell的使用，具体可以man查看帮助。👀">
  <meta name="author" content="Joseph XRays">
  <meta name="keywords" content="">
  
  <title>Unix/Linux Shell - JoXrays&#39;s Blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/monokai.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"www.joxrays.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"AzPbImmMjm5nQc1Xm9ulWCoH-gzGzoHsz","app_key":"xJqILn8nSbhYmdkB2VVQm8vI","server_url":"https://azpbimmm.lc-cn-n1-shared.com"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>JoXrays's Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/bg.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Unix/Linux Shell">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2020-04-24 00:00" pubdate>
        2020年4月24日 凌晨
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      53
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Unix/Linux Shell</h1>
            
            <div class="markdown-body">
              <p>本文主要是参考书上内容并总结出来的，因此无法全面概述每一个shell的使用，具体可以<code>man</code>查看帮助。👀</p>
<span id="more"></span>
<h3 id="rm"><a class="markdownIt-Anchor" href="#rm"></a> rm</h3>
<p>玩过linux都知道 <code>rm</code> 这个命令，它是用来删除一个或多个文件/目录，一般常用的操作是 <code>rm files</code>。不过有时为了省事，直接 <code>rm -rf files/dirs</code>表示强制删除文件或目录(包括子目录所有文件)。<br />
不过有时候突然sb了，直接执行 <code>rm -rf /*</code> ，除非反应在0.000000009ms内否则基本就GG了，还要一种写法也可能GG，比如: <code>rm -rf $TMP/*</code>，如果变量<code>$TMP</code> <strong>不存在或为空</strong>，那么这条命令等价于<code>rm -rf /*</code>。。。<br />
总之，rm就是万恶之源，远离rm，从我做起 🤣</p>
<h3 id="变量初始化空值"><a class="markdownIt-Anchor" href="#变量初始化空值"></a> 变量初始化空值</h3>
<p>Linux变量初始化为空值有3种形式，效果一样。</p>
<ul>
<li><code>var=</code></li>
<li><code>var=&quot;&quot;</code> (无空格)</li>
<li><code>var=''</code> (无空格)</li>
</ul>
<h3 id="整数算数操作"><a class="markdownIt-Anchor" href="#整数算数操作"></a> 整数算数操作 $(())、$[]</h3>
<p>基本上linux shell提供了一种叫做<strong>算术扩展</strong>的机制能够执行shell变量的<strong>整数</strong>运算。（PS: bash仅支持整数，而zsh其实支持浮点数的。以下所有命令及结果均在bash上测试）<br />
格式: <code>$((expression))</code> 或 <code>$[expression]</code> expression表达式首尾可无空格<br />
<code>$(())</code> 支持 +、-、<em>、/、%、**(幂)、+=、-=、</em>=、/=、var++、var–、++var、–var<br />
除此之外，<code>$(())</code>也支持进制之间的转换（转换为10进制）。即 <code>$((基数#转换的值))</code></p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> $((<span class="hljs-number">1</span>+<span class="hljs-number">20</span>*<span class="hljs-number">2</span>))     <span class="hljs-comment"># 41</span><br><br>var=100<br><span class="hljs-built_in">echo</span> $((var+=<span class="hljs-number">100</span>))   <span class="hljs-comment"># 200</span><br><br><span class="hljs-built_in">echo</span> $((var+<span class="hljs-number">100</span>))<br><span class="hljs-built_in">echo</span> $((<span class="hljs-variable">$var</span>+<span class="hljs-number">100</span>))   <span class="hljs-comment"># $非必需</span><br><br><span class="hljs-built_in">echo</span> $((<span class="hljs-number">2#11111111</span>)) <span class="hljs-comment"># 输出 255 </span><br><span class="hljs-built_in">echo</span> $((<span class="hljs-number">8#377</span>))      <span class="hljs-comment"># 输出 255</span><br><span class="hljs-built_in">echo</span> $((<span class="hljs-number">16#ff</span>))      <span class="hljs-comment"># 输出 255</span><br><span class="hljs-built_in">echo</span> $((<span class="hljs-number">10#255</span>))     <span class="hljs-comment"># 输出 255</span><br><span class="hljs-built_in">echo</span> $((<span class="hljs-number">3#22</span>))       <span class="hljs-comment"># 输出 8 </span><br>var=ff<br><span class="hljs-built_in">echo</span> $((<span class="hljs-number">16</span>#<span class="hljs-variable">$var</span>))    <span class="hljs-comment"># 输出 255</span><br><br><span class="hljs-built_in">echo</span> $((<span class="hljs-number">10</span>!=<span class="hljs-number">10</span>&amp;&amp;var&gt;<span class="hljs-number">100</span>))  <span class="hljs-comment"># 甚至还可以逻辑判断</span><br></code></pre></div></td></tr></table></figure>
<p>除此之外，可以在if/for内进行求和，比如下面这个简短的例子，其中 <code>:</code> 不能去掉，因为如果没有<code>:</code>那么<code>$((sum+=i))</code>被当作一条命令去执行，而这里我们只需要求和，没有执行什么shell命令，于是bash只能报错<code>未找到命令</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>sum=<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;1..100&#125;;<span class="hljs-keyword">do</span><br>        : $((sum+=i))<br><span class="hljs-keyword">done</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$sum</span><br></code></pre></div></td></tr></table></figure>
<h3 id="命令替换"><a class="markdownIt-Anchor" href="#命令替换"></a> 命令替换 $()</h3>
<p>众所周知，linux通过 <code>$()</code> 和 <code>` `</code>来执行一些命令，比如<code>echo $(date)</code> <code>echo `date`</code>，这在shell脚本中很常见，可以保存输出结果到变量中。</p>
<h3 id="变量替换"><a class="markdownIt-Anchor" href="#变量替换"></a> 变量替换 ${}</h3>
<p>所谓的变量替换也就是把变量放在用双引号<code>&quot;&quot;</code>字符串而不是单引号<code>''</code>字符串中。这是因为单引号表示告诉shell忽略字符串中的<strong>特殊字符</strong>，比如<code>$</code><br />
比如</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">num=666<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;number: <span class="hljs-variable">$&#123;num&#125;</span>000&quot;</span>        <span class="hljs-comment"># number: 666000</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;number: $&#123;num&#125;000&#x27;</span>        <span class="hljs-comment"># number: $&#123;num&#125;000</span><br></code></pre></div></td></tr></table></figure>
<h3 id="参数替换"><a class="markdownIt-Anchor" href="#参数替换"></a> 参数替换</h3>
<p>shell中参数包括：传递给程序的参数（位置参数，比如$0、$1…）、特殊的shell变量（如 $#）和普通变量（关键字参数）</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>${parameter}</td>
<td>替换为parameter的值</td>
</tr>
<tr>
<td>${parameter:-value}</td>
<td>如果parameter已设置且不为空，替换为它的值；否则，替换为 value</td>
</tr>
<tr>
<td>${parameter-value}</td>
<td>如果parameter已设置，替换为它的值；否则，替换为 value</td>
</tr>
<tr>
<td>${parameter:=value}</td>
<td>如果parameter已设置且不为空，替换为它的值；否则，替换为 value并将其赋给parameter</td>
</tr>
<tr>
<td>${parameter=value}</td>
<td>如果parameter已设置，替换为它的值；否则，替换为 value并将其赋给parameter</td>
</tr>
<tr>
<td>${parameter:?value}</td>
<td>如果parameter已设置且不为空，替换为它的值；否则，将value写入标准错误并退出。若忽略value，则向标准错误写入parameter: parameter null or not set</td>
</tr>
<tr>
<td>${parameter?value}</td>
<td>如果parameter已设置，替换为它的值；否则，将value写入标准错误并退出。若忽略value，则向标准错误写入parameter: parameter null or not set</td>
</tr>
<tr>
<td>${parameter:+value}</td>
<td>如果parameter已设置且不为空，替换为value；否则，替换为空</td>
</tr>
<tr>
<td>${parameter+value}</td>
<td>如果parameter已设置，替换为value；否则，替换为空</td>
</tr>
<tr>
<td>${ #parameter}</td>
<td>求parameter的<strong>长度</strong></td>
</tr>
<tr>
<td>${parameter#pattern}</td>
<td>从parameter<strong>左边</strong>开始<strong>删除</strong>pattern的<strong>最短</strong>匹配，余下内容作为参数替换的结果</td>
</tr>
<tr>
<td>${parameter##pattern}</td>
<td>从parameter<strong>左边</strong>开始<strong>删除</strong>pattern的<strong>最长</strong>匹配，余下内容作为参数替换的结果</td>
</tr>
<tr>
<td>${parameter%pattern}</td>
<td>从parameter<strong>右边</strong>开始<strong>删除</strong>pattern的<strong>最短</strong>匹配，余下内容作为参数替换的结果</td>
</tr>
<tr>
<td>${parameter%%pattern}</td>
<td>从parameter<strong>右边</strong>开始<strong>删除</strong>pattern的<strong>最长</strong>匹配，余下内容作为参数替换的结果</td>
</tr>
</tbody>
</table>
<p>通过 <code>set</code> 命令可以为位置参数重新赋值。<br />
如 <code>set a b 123</code>，这将<code>a</code>赋值给<code>$1</code>、<code>b</code>赋值给<code>$2</code>、<code>123</code>赋值给<code>$3</code>。<br />
还可以将输入的每个数据依次分配到位置参数<code>$1</code>、<code>$2</code>…</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">read</span> line<br><span class="hljs-built_in">set</span> <span class="hljs-variable">$line</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$#</span><br><span class="hljs-keyword">for</span> args; <span class="hljs-keyword">do</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-variable">$args</span><br><span class="hljs-keyword">done</span><br></code></pre></div></td></tr></table></figure>
<h3 id="数学等式解算器expr"><a class="markdownIt-Anchor" href="#数学等式解算器expr"></a> 数学等式解算器expr</h3>
<p>expr命令没有$(())高级，功能比较局限而且也只支持整数。expr除了支持基本的 ±*/外，还支持|、&amp;、!=、=、&lt;=、&lt;、&gt;=、&gt;逻辑判断。需要用空格分隔参数，而且乘的话需要用<code>\</code>转义！注意不要理所当然地用 <code>&quot;&quot;</code> 来包围表达式，这没用</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">expr 10 + 10 \* 10 / 20   <span class="hljs-comment"># 输出 15</span><br>expr <span class="hljs-string">&quot;10 + 10 * 10 / 20&quot;</span>  <span class="hljs-comment"># 输出 10 + 10 * 10 / 20</span><br><br>var=100<br>expr <span class="hljs-variable">$var</span> + 100           <span class="hljs-comment"># 输出 200</span><br>i=`expr <span class="hljs-variable">$var</span> + 100`       <span class="hljs-comment"># i=200</span><br><br></code></pre></div></td></tr></table></figure>
<p>当然expr还有其他功能，比如</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># 默认返回匹配到的字符数目</span><br>expr <span class="hljs-string">&quot;i love linux&quot;</span> : <span class="hljs-string">&quot;.*&quot;</span>          <span class="hljs-comment"># 12</span><br><span class="hljs-comment"># 等同于</span><br>expr length <span class="hljs-string">&quot;i love linux&quot;</span>          <span class="hljs-comment"># 12</span><br><br><span class="hljs-comment"># 返回某个字符在字符串中的索引(从1开始)</span><br>expr index <span class="hljs-string">&quot;i love linux&quot;</span>  o        <span class="hljs-comment"># 4</span><br><br><span class="hljs-comment"># 提取索引为8的5个字符的子字符串</span><br>expr substr <span class="hljs-string">&quot;i love linux&quot;</span>  8 5     <span class="hljs-comment"># linux</span><br></code></pre></div></td></tr></table></figure>
<h3 id="传递参数"><a class="markdownIt-Anchor" href="#传递参数"></a> 传递参数</h3>
<p>可以给一个shell脚本或<strong>函数</strong>传递参数，与获取参数有关的一些变量大致如下</p>
<table>
<thead>
<tr>
<th>变量</th>
<th></th>
<th>变量</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>$#</td>
<td>参数个数</td>
<td>${1}~${n}</td>
<td>参数1~n</td>
</tr>
<tr>
<td>$*</td>
<td>所有原始参数</td>
<td>$@</td>
<td>所有参数且每个参数用<code>&quot;&quot;</code>包围,如果<code>&quot;$1&quot;</code></td>
</tr>
</tbody>
</table>
<p>当然还有其他的变量没有列出。</p>
<h4 id="shift"><a class="markdownIt-Anchor" href="#shift"></a> shift</h4>
<p>shift命令可以左移位置参数，即解开参数包，每次执行<code>shift</code> <code>$#</code>自动减1,<code>$2</code>赋予给<code>$1</code>，<code>$3</code>赋予给<code>$2</code>… 当<code>$#=0</code>，没有参数可解时报错，具体情况根据shell的不同而不同。比如我这里bash没有显示报错信息，但<code>$?</code>为1，而zsh显示报错信息且<code>$?</code>为1。这个例子展示了如何利用shift一次解开参数包，当然也可以用<code>$&#123;1&#125;～$&#123;n&#125;</code></p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-variable">$@</span>;<span class="hljs-keyword">do</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;=&gt; &#123;<span class="hljs-variable">$1</span>&#125;&quot;</span><br>        <span class="hljs-built_in">shift</span><br><span class="hljs-keyword">done</span> <br><span class="hljs-built_in">shift</span>                   <span class="hljs-comment"># error</span><br><span class="hljs-built_in">echo</span> $?<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;quit&quot;</span><br><br>$ test.sh this is a <span class="hljs-built_in">test</span> <br>Output<br>=&gt; &#123;this&#125;<br>=&gt; &#123;is&#125;<br>=&gt; &#123;a&#125;<br>=&gt; &#123;<span class="hljs-built_in">test</span>&#125;<br>1<br>quit<br></code></pre></div></td></tr></table></figure>
<h3 id="条件测试test"><a class="markdownIt-Anchor" href="#条件测试test"></a> 条件测试test</h3>
<p>test命令可以用来测试两个<strong>字符串</strong>是否相等，而且test会把测试变量当作字符串来看待，也就是说 <code>test 100 = 100</code>实际上是<code>test &quot;100&quot; = &quot;100&quot;</code>或者 <code>test &quot;100&quot; = 100</code>。<br />
由于测试的结果是上一条命令执行的退出状态码，因此结果普遍是0真，非0假。</p>
<p>test 字符串的其他一些操作符</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>str1 = str2</td>
<td>str1 等于 str2 ?</td>
</tr>
<tr>
<td>str1 != str2</td>
<td>str1 不等于 str2 ?</td>
</tr>
<tr>
<td>str</td>
<td>str 不为空?</td>
</tr>
<tr>
<td>-n str</td>
<td>str不为空 ?</td>
</tr>
<tr>
<td>-z str</td>
<td>str为空 ?</td>
</tr>
</tbody>
</table>
<p>关于<code>str</code>和<code>-n str</code>区别，举一个例子就知道了</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">str=<span class="hljs-string">&quot;    &quot;</span><br><span class="hljs-built_in">test</span> <span class="hljs-variable">$str</span><br><span class="hljs-built_in">echo</span> $?         <span class="hljs-comment"># 1</span><br><br><span class="hljs-built_in">test</span> -n <span class="hljs-variable">$str</span><br><span class="hljs-built_in">echo</span> $?         <span class="hljs-comment"># 0</span><br></code></pre></div></td></tr></table></figure>
<p>即可以把<code>-n str</code>看作是测试字符串长度是否大于0。</p>
<h3 id="条件测试"><a class="markdownIt-Anchor" href="#条件测试"></a> 条件测试 []、[[]]、(())</h3>
<p>除了在if中用test判断条件之外，还可以用<code>[ ]</code>和<code>[[ ]]</code>测试条件。<br />
注意，<code>[</code>是一个命令位于 <code>/usr/bin/[</code> ，而<code>[[ ]]</code> 是bash的一个关键字。注意<code>[</code>和<code>]</code>内首尾空格。<br />
常规写法</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">var=<br><span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> <span class="hljs-string">&quot;linux&quot;</span> = <span class="hljs-string">&quot;linux&quot;</span> &amp;&amp; <span class="hljs-built_in">test</span> -z <span class="hljs-variable">$var</span> ;<span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;yes&quot;</span><br><span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;no&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></div></td></tr></table></figure>
<p>使用<code>[ ]</code></p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">var=<br>n=100<br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;linux&quot;</span> = <span class="hljs-string">&quot;linux&quot;</span> ] &amp;&amp; [ -z <span class="hljs-variable">$var</span> ] || [ <span class="hljs-variable">$n</span> -ge 50 ];<span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;yes&quot;</span><br><span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;no&quot;</span><br><span class="hljs-keyword">fi</span><br><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;linux&quot;</span> = <span class="hljs-string">&quot;linux&quot;</span> -a -z <span class="hljs-variable">$var</span> -o <span class="hljs-variable">$n</span> -ge 50 ];<span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;yes&quot;</span><br><span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;no&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></div></td></tr></table></figure>
<p>上面两种写法不够简洁，因此可以使用<code>[[ ]]</code></p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">var=<br>n=100<br><span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;linux&quot;</span> = <span class="hljs-string">&quot;linux&quot;</span> &amp;&amp; -z <span class="hljs-variable">$var</span> || <span class="hljs-variable">$n</span>&gt;=50 ]];<span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;yes&quot;</span><br><span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;no&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></div></td></tr></table></figure>
<p>甚至还可以使用C风格的条件判断</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">sum=<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;1..100&#125;;<span class="hljs-keyword">do</span><br>        <span class="hljs-keyword">if</span> ((i%2==0));<span class="hljs-keyword">then</span><br>                : $((sum+=i))<br>        <span class="hljs-keyword">fi</span><br><span class="hljs-keyword">done</span><br></code></pre></div></td></tr></table></figure>
<h3 id="整数比较"><a class="markdownIt-Anchor" href="#整数比较"></a> 整数比较</h3>
<table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>n1 -eq n2</td>
<td>n1 等于 n2 ?</td>
</tr>
<tr>
<td>n1 -ne n2</td>
<td>n1 不等于 n2 ?</td>
</tr>
<tr>
<td>n1 -ge n2</td>
<td>n1 大于等于 n2 ?</td>
</tr>
<tr>
<td>n1 -gt n2</td>
<td>n1 大于 n2 ?</td>
</tr>
<tr>
<td>n1 -le n2</td>
<td>n1 小于等于 n2 ?</td>
</tr>
<tr>
<td>n1 -lt n2</td>
<td>n1 小于 n2 ?</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">x1=<span class="hljs-string">&quot;005&quot;</span><br>x2=<span class="hljs-string">&quot;  10&quot;</span><br>[ <span class="hljs-string">&quot;<span class="hljs-variable">$x1</span>&quot;</span> = 5 ]<br><span class="hljs-built_in">echo</span> $?                <span class="hljs-comment"># 1</span><br><br>[ <span class="hljs-string">&quot;<span class="hljs-variable">$x1</span>&quot;</span> -eq 5]<br><span class="hljs-built_in">echo</span> $?                <span class="hljs-comment"># 0</span><br><br>[ <span class="hljs-string">&quot;<span class="hljs-variable">$x2</span>&quot;</span> = 10 ]<br><span class="hljs-built_in">echo</span> $?                <span class="hljs-comment"># 1</span><br><br>[ <span class="hljs-string">&quot;<span class="hljs-variable">$x2</span>&quot;</span> -eq 10]<br><span class="hljs-built_in">echo</span> $?                <span class="hljs-comment"># 0</span><br></code></pre></div></td></tr></table></figure>
<p>总之，在比较字符串和整数时要注意操作符</p>
<h3 id="文件操作符"><a class="markdownIt-Anchor" href="#文件操作符"></a> 文件操作符</h3>
<table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-d file</td>
<td>file是一个目录</td>
</tr>
<tr>
<td>-e file</td>
<td>file存在</td>
</tr>
<tr>
<td>-f file</td>
<td>file是一个普通文件</td>
</tr>
<tr>
<td>-s file</td>
<td>file不是空文件</td>
</tr>
<tr>
<td>-r file</td>
<td>file可读</td>
</tr>
<tr>
<td>-w file</td>
<td>file可写</td>
</tr>
<tr>
<td>-x file</td>
<td>file可执行</td>
</tr>
<tr>
<td>-L file</td>
<td>file是一个符号链接</td>
</tr>
<tr>
<td>-g file</td>
<td>file设置了SGID位</td>
</tr>
<tr>
<td>-u file</td>
<td>file设置了SUID位</td>
</tr>
<tr>
<td>-p file</td>
<td>file是一个命名管道</td>
</tr>
<tr>
<td>-S file</td>
<td>file是一个套接字</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">[ ! -w /usr/bin/[ ]<br><span class="hljs-built_in">echo</span> $?                 <span class="hljs-comment"># 0</span><br><br><span class="hljs-keyword">if</span> [ -d . -a -x test.sh -o -w test.sh ] ; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> ok ;<span class="hljs-keyword">fi</span><br><span class="hljs-comment"># 用括号改变求值顺序</span><br><span class="hljs-keyword">if</span> [ -d . -a \( -x test.sh -o -w test.sh \) ] ; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> ok ;<span class="hljs-keyword">fi</span><br></code></pre></div></td></tr></table></figure>
<h3 id="调试选项-x"><a class="markdownIt-Anchor" href="#调试选项-x"></a> 调试选项 -x</h3>
<p>bash可以制定-x选项来跟踪执行过程，比如有下面这个shell脚本</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>sum=<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;1..5&#125;;<span class="hljs-keyword">do</span><br>        <span class="hljs-keyword">if</span> ((i%2==0));<span class="hljs-keyword">then</span><br>                : $((sum+=i))<br>        <span class="hljs-keyword">fi</span><br><span class="hljs-keyword">done</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$sum</span><br></code></pre></div></td></tr></table></figure>
<p>通过 bash -x <a target="_blank" rel="noopener" href="http://test.sh">test.sh</a> 跟踪执行过程</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">$ bash -x test.sh <br>+ sum=<br>+ <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;1..5&#125;<br>+ (( i%2==0 ))<br>+ <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;1..5&#125;<br>+ (( i%2==0 ))<br>+ : 2<br>+ <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;1..5&#125;<br>+ (( i%2==0 ))<br>+ <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;1..5&#125;<br>+ (( i%2==0 ))<br>+ : 6<br>+ <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;1..5&#125;<br>+ (( i%2==0 ))<br>+ <span class="hljs-built_in">echo</span> 6<br>6<br></code></pre></div></td></tr></table></figure>
<p>或者<code>set -x</code>打开跟踪模式、<code>set +x</code>关闭跟踪模式</p>
<h3 id="空命令"><a class="markdownIt-Anchor" href="#空命令"></a> 空命令 :</h3>
<p>前面有谈到过<code>:</code>这个命令，它就像Python的<code>pass</code>，类似占位符，什么都不做。有时可以用<code>:</code>在if/for/while/until/case内执行一些赋值操作</p>
<h3 id="命令"><a class="markdownIt-Anchor" href="#命令"></a> .命令</h3>
<p><code>. file</code>会使Shell<strong>读取并执行</strong>指定的文件，file不一定是可执行的，只有可读就行。</p>
<h4 id="参数扩展"><a class="markdownIt-Anchor" href="#参数扩展"></a> 参数扩展</h4>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">var=100<br>var=$((var*<span class="hljs-number">100</span>))        <span class="hljs-comment"># 10000</span><br>: $((var*=<span class="hljs-number">100</span>))         <span class="hljs-comment"># 1000000</span><br></code></pre></div></td></tr></table></figure>
<h4 id="占位符-注释"><a class="markdownIt-Anchor" href="#占位符-注释"></a> 占位符、注释</h4>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">: hello linux<br><span class="hljs-keyword">if</span> [ 10 -ge 5 ];<span class="hljs-keyword">then</span> : ;<span class="hljs-keyword">else</span> :; <span class="hljs-keyword">fi</span><br></code></pre></div></td></tr></table></figure>
<h4 id="函数名"><a class="markdownIt-Anchor" href="#函数名"></a> 函数名</h4>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">:() <br>&#123; <br>        <span class="hljs-built_in">echo</span> xx; <br>&#125;<br>:<br></code></pre></div></td></tr></table></figure>
<p>比如众所周知的fork bomb <code>:()&#123; :|:&amp; &#125;;:</code> 就是如此简单粗暴</p>
<h3 id="循环"><a class="markdownIt-Anchor" href="#循环"></a> 循环</h3>
<h4 id="跳过跳出循环"><a class="markdownIt-Anchor" href="#跳过跳出循环"></a> 跳过/跳出循环</h4>
<p><code>continue n</code>或<code>break n</code>来跳过或跳出第n层循环</p>
<h4 id="后台执行循环"><a class="markdownIt-Anchor" href="#后台执行循环"></a> 后台执行循环</h4>
<p>在循环关闭语句done后面加上<code>&amp;</code>能够使循环for/while后台执行</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> 1 2 3;<span class="hljs-keyword">do</span><br>        sleep 2<br><span class="hljs-keyword">done</span> &amp;<br></code></pre></div></td></tr></table></figure>
<h4 id="循环上的io重定向"><a class="markdownIt-Anchor" href="#循环上的io重定向"></a> 循环上的IO重定向</h4>
<p>输出重定向</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> $(ls <span class="hljs-variable">$HOME</span>);<span class="hljs-keyword">do</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;=&gt; _<span class="hljs-variable">$&#123;i&#125;</span>_&quot;</span><br><span class="hljs-keyword">done</span> &gt; output 2&gt;&amp;1<br></code></pre></div></td></tr></table></figure>
<p>输入重定向</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-keyword">while</span> <span class="hljs-built_in">read</span> line;<span class="hljs-keyword">do</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;=&gt; <span class="hljs-variable">$line</span>&quot;</span><br><span class="hljs-keyword">done</span> &lt; file.txt<br></code></pre></div></td></tr></table></figure>
<h3 id="printf"><a class="markdownIt-Anchor" href="#printf"></a> printf</h3>
<p>对于简单的信息echo足矣，但是有时候需要格式化输出信息，那么linux提供了一个类似C的printf命令来帮助完成格式化，更多内容可以去查看帮助文档😹</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%.4f %s %d\n&quot;</span> 10.22 $(uname -r) 100     <span class="hljs-comment"># 10.2200 5.4.34-1-MANJARO 100</span><br></code></pre></div></td></tr></table></figure>
<h3 id="exec"><a class="markdownIt-Anchor" href="#exec"></a> exec</h3>
<p>exec除了会用新程序<strong>替换</strong>现有的程序，还有一下功能</p>
<h4 id="重定向标准输入"><a class="markdownIt-Anchor" href="#重定向标准输入"></a> 重定向标准输入</h4>
<p><code>exec &lt; infile</code></p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">exec</span> &lt; infile<br><span class="hljs-keyword">while</span> <span class="hljs-built_in">read</span> l;<span class="hljs-keyword">do</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;=&gt; <span class="hljs-variable">$l</span>&quot;</span><br><span class="hljs-keyword">done</span><br></code></pre></div></td></tr></table></figure>
<h4 id="重定向标准输出"><a class="markdownIt-Anchor" href="#重定向标准输出"></a> 重定向标准输出</h4>
<p><code>exec &gt; outfile</code></p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">exec</span> &gt; outfile<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> $(ls);<span class="hljs-keyword">do</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;=&gt; <span class="hljs-variable">$i</span>&quot;</span><br><span class="hljs-keyword">done</span><br></code></pre></div></td></tr></table></figure>
<h4 id="重置标准输入输出"><a class="markdownIt-Anchor" href="#重置标准输入输出"></a> 重置标准输入/输出</h4>
<ul>
<li><code>exec &gt; /dev/tty</code></li>
<li><code>exec &lt; /dev/tty</code></li>
</ul>
<h3 id="命令组"><a class="markdownIt-Anchor" href="#命令组"></a> 命令组( … )、{ …; }</h3>
<p><code>( ... )</code>内的命令会在<strong>子shell</strong>执行，而<code>&#123; ...; &#125;</code>内的命令则是在<strong>当前shell</strong>执行。<br />
要注意，<code>&#123; ...; &#125;</code>的左<code>&#123;</code>后需要空格！</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">var=100<br>(var=200)<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>       <span class="hljs-comment"># 100</span><br><br>var=100<br>&#123; var=200;&#125;<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>       <span class="hljs-comment"># 200</span><br>&#123; var+=300;&#125;<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>       <span class="hljs-comment"># 200300</span><br></code></pre></div></td></tr></table></figure>
<p>其实<code>&#123; ...;&#125;</code>就像一个无名函数的调用…</p>
<h3 id="只读变量"><a class="markdownIt-Anchor" href="#只读变量"></a> 只读变量</h3>
<p>readonly和<code>declare</code>命令可以指定某个变量只读。<br />
<code>readonly var</code>或<code>declare -r var</code></p>
<h3 id="eval"><a class="markdownIt-Anchor" href="#eval"></a> eval</h3>
<p>把eval放在命令行之前，Shell会对该命令行进行二次扫描，然后执行。</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">pipe=<span class="hljs-string">&quot;|&quot;</span><br><span class="hljs-built_in">eval</span> <span class="hljs-variable">$pipe</span> wc -l        <br></code></pre></div></td></tr></table></figure>
<p>Shell第一次扫描时把<code>pipe</code>变量替换为<code>|</code>，然后eval使得Shell重新扫描命令行，此时Shell能够识别出<code>|</code>是一个管道符号，因此便能成功执行该命令行<br />
与eval搭配的字符有<code>;</code>、<code>|</code>、<code>&amp;</code>、<code>&lt;</code>、<code>&gt;</code>、<code>引号' &quot;</code></p>
<p>下面是一个典型的例子，展示了shell中所谓的“指针”</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">x=100<br>ptrx=x<br><span class="hljs-built_in">eval</span> <span class="hljs-built_in">echo</span> \$<span class="hljs-variable">$ptrx</span>       <span class="hljs-comment"># 100</span><br><span class="hljs-built_in">eval</span> <span class="hljs-variable">$ptrx</span>=50<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$x</span>                 <span class="hljs-comment"># 50</span><br></code></pre></div></td></tr></table></figure>
<h3 id="trap"><a class="markdownIt-Anchor" href="#trap"></a> trap</h3>
<p>trap用于信号处理，一般格式 <code>trap commands signals</code><br />
一些信号列表如下</p>
<table>
<thead>
<tr>
<th>信号</th>
<th>信号名称</th>
<th>产生原因</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>EXIT</td>
<td>退出SHELL</td>
</tr>
<tr>
<td>1</td>
<td>HUP</td>
<td>挂起</td>
</tr>
<tr>
<td>2</td>
<td>INT</td>
<td>中断</td>
</tr>
<tr>
<td>3</td>
<td>QUIT</td>
<td>退出</td>
</tr>
<tr>
<td>6</td>
<td>ABRT</td>
<td>中止</td>
</tr>
<tr>
<td>9</td>
<td>KILL</td>
<td>&quot;销毁&quot;进程</td>
</tr>
<tr>
<td>14</td>
<td>ALAM</td>
<td>超时</td>
</tr>
<tr>
<td>15</td>
<td>TERM</td>
<td>软件终止信号</td>
</tr>
</tbody>
</table>
<p>没有参数的<code>trap</code>会显示定义过或修改过的所有trap处理程序</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">trap</span> <span class="hljs-string">&quot;echo bye&quot;</span> INT<br><span class="hljs-built_in">trap</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> 1 2 3  ;<span class="hljs-keyword">do</span><br>        sleep 1<br>        <span class="hljs-built_in">echo</span> ...<br><span class="hljs-keyword">done</span><br></code></pre></div></td></tr></table></figure>
<p><code>trap &quot;&quot; SIGINT</code> 忽略SIGINT信号，这也会导致所有的子shell也忽略这个信号(无论子shell是否有自己的trap信号处理程序)<br />
<code>trap : SIGINT</code> 当前shell什么也不做，子shell执行默认的信号处理程序(如果有的话)<br />
<code>trap SIGINT</code> 重置中断信号处理<br />
一、</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">$ <span class="hljs-built_in">trap</span> <span class="hljs-string">&quot;&quot;</span> SIGINT<br>$ bash test.sh <br><span class="hljs-built_in">trap</span> -- <span class="hljs-string">&#x27;&#x27;</span> SIGINT<br>...<br>^C...<br>...<br></code></pre></div></td></tr></table></figure>
<p>二、</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">$ <span class="hljs-built_in">trap</span> : SIGINT<br>$ bash test.sh <br><span class="hljs-built_in">trap</span> -- <span class="hljs-string">&#x27;echo bye&#x27;</span> SIGINT<br>...<br>^Cbye<br>...<br></code></pre></div></td></tr></table></figure>
<h3 id="io重定向"><a class="markdownIt-Anchor" href="#io重定向"></a> IO重定向</h3>
<p>下表展示了重定向的一些操作(从左到右处理重定向)</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;</td>
<td>stdin重定向</td>
</tr>
<tr>
<td>&gt;</td>
<td>stdout重定向</td>
</tr>
<tr>
<td>2&gt;</td>
<td>stderr重定向</td>
</tr>
<tr>
<td>&gt;&amp;2</td>
<td>stdout重定向到stderr</td>
</tr>
<tr>
<td>&gt; file 2&gt;&amp;1</td>
<td>stdout和stderr重定向到file，等价于 &gt;file 2&gt;&gt;file</td>
</tr>
<tr>
<td>&gt;&amp;-</td>
<td>关闭stdout,stderr，如 exec 1&gt;&amp;-、exec 2&gt;&amp;-</td>
</tr>
<tr>
<td>&lt;&amp;-</td>
<td>关闭stdin，如 exec 0&lt;&amp;-</td>
</tr>
</tbody>
</table>
<p>比如常见的 <code>commands &gt;/dev/null 2&gt;&amp;1</code></p>
<h3 id="行内输入重定向-here-documents"><a class="markdownIt-Anchor" href="#行内输入重定向-here-documents"></a> 行内输入重定向 here documents</h3>
<p>主要有以下几种形式</p>
<ul>
<li><code>&lt;&lt;EOF</code>  忽略特殊字符</li>
<li><code>&lt;&lt;\EOF</code> 不忽略特殊字符，也就是原封不动的输出输入的内容</li>
<li><code>&lt;&lt;-EOF</code> 删除输入内容中的前导制表符</li>
<li><code>&lt;&lt;EOF&gt;&gt;</code> 如 <code>cat &lt;&lt;EOF&gt;&gt;outfile</code></li>
<li><code>&lt;&lt;EOF|tee</code> 如 <code>cat &lt;&lt;EOF|tee outfile</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">$ cat &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">&gt; Hello</span><br><span class="hljs-string">&gt; $SHELL</span><br><span class="hljs-string">&gt; `uname -r`</span><br><span class="hljs-string">&gt; EOF</span><br>Hello<br>/usr/bin/zsh<br>5.4.34-1-MANJARO<br></code></pre></div></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">$ cat &lt;&lt;\EOF<br>&gt; Hello<br>&gt; <span class="hljs-variable">$SHELL</span><br>&gt; `uname -r`<br>&gt; EOF<br>Hello<br><span class="hljs-variable">$SHELL</span><br>`uname -r`<br></code></pre></div></td></tr></table></figure>
<h3 id="删除变量和函数"><a class="markdownIt-Anchor" href="#删除变量和函数"></a> 删除变量和函数</h3>
<p><code>unset var</code><br />
<code>unset -f func</code></p>
<h3 id="退出函数"><a class="markdownIt-Anchor" href="#退出函数"></a> 退出函数</h3>
<p><code>return n</code> n为函数返回状态，可以用<code>$?</code>捕获</p>
<h3 id="局部变量"><a class="markdownIt-Anchor" href="#局部变量"></a> 局部变量</h3>
<p>使用<code>typeset</code>或<code>local</code>定义局部变量，其中<code>local</code>只能用在<strong>函数</strong>中。<br />
同时<code>typeset</code>还可以定义整数类型的变量<code>-i</code>，若赋值的不是一个整数，那么可能会提示错误</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">typeset</span> -i i=100 j=200<br><span class="hljs-function"><span class="hljs-title">func</span></span>()&#123;<br>        <span class="hljs-built_in">local</span> k=300<br>        <span class="hljs-built_in">echo</span> <span class="hljs-variable">$i</span> <span class="hljs-variable">$j</span> <span class="hljs-variable">$k</span>   <span class="hljs-comment"># 100 200 300</span><br>&#125;<br>func<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$i</span> <span class="hljs-variable">$j</span> <span class="hljs-variable">$k</span>           <span class="hljs-comment"># 100 200</span><br><br><span class="hljs-built_in">typeset</span> -i n=100<br>n=100*200<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$n</span>                 <span class="hljs-comment"># 20000</span><br><span class="hljs-built_in">typeset</span> var=100<br>var=100*200<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>               <span class="hljs-comment"># 100*200</span><br></code></pre></div></td></tr></table></figure>
<h3 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h3>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">arr[0]=<span class="hljs-string">&quot;wtf&quot;</span><br>arr[1]=100<br><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$arr</span>[1]            <span class="hljs-comment"># wtf[1]  </span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;arr[1]&#125;</span>          <span class="hljs-comment"># 100  </span><br><span class="hljs-comment"># 数组所有元素</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;arr[*]&#125;</span>          <span class="hljs-comment"># wtf 100</span><br><span class="hljs-comment"># 数组元素数量</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;#arr[*]&#125;</span>         <span class="hljs-comment"># 2</span><br><br><span class="hljs-comment"># 整数数组</span><br><span class="hljs-built_in">typeset</span> -i array<br>array[0]=100<br>array[1]=200<br>((array[2]=array[0]+array[1]))<br>array[3]=array[0]+array[1] <span class="hljs-comment"># 只有整数数组才行</span><br>: $((array[<span class="hljs-number">4</span>]=array[<span class="hljs-number">0</span>]+array[<span class="hljs-number">1</span>]))<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;array[*]&#125;</span>        <span class="hljs-comment"># 100 200 300 300 300</span><br></code></pre></div></td></tr></table></figure>
<h3 id="生成伪随机数"><a class="markdownIt-Anchor" href="#生成伪随机数"></a> 生成伪随机数</h3>
<blockquote>
<p>/dev/random在类UNIX系统中是一个特殊的设备文件，可以用作随机数发生器或伪随机数发生器。</p>
<p>/dev/random的一个副本是 /dev/urandom（“unblocked”，非阻塞的随机数发生器），它会重复使用熵池中的数据以产生伪随机数据。这表示对/dev/urandom的读取操作不会产生阻塞，但其输出的熵可能小于/dev/random的。它可以作为生成较低强度密码的伪随机数生成器，不建议用于生成高强度长期密码。</p>
</blockquote>
<p>详细信息维基百科<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki//dev/random">/dev/random</a></p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># 生成16位包含A-Z、a-z的随机数</span><br>head /dev/urandom |tr -dc <span class="hljs-string">&#x27;A-Za-z&#x27;</span>|head -c 16<br><span class="hljs-comment"># 生成32位包含a-z、0-9的随机数</span><br>head /dev/urandom |tr -dc <span class="hljs-string">&#x27;0-9a-z&#x27;</span>|head -c 32<br></code></pre></div></td></tr></table></figure>
<h3 id="限制文件列宽-fold"><a class="markdownIt-Anchor" href="#限制文件列宽-fold"></a> 限制文件列宽 fold</h3>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># 每行20列 </span><br>fold -w 20 test.file<br></code></pre></div></td></tr></table></figure>
<h3 id="判断命令是否存在"><a class="markdownIt-Anchor" href="#判断命令是否存在"></a> 判断命令是否存在</h3>
<p>可以用于判断linux命令是否存在的方法很多，比如 which、type、hash、command</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">command</span> -V ps &gt; /dev/null 2&gt;&amp;1<br><span class="hljs-keyword">if</span> [ $? -eq 0 ];<span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> OK;<span class="hljs-keyword">else</span> <span class="hljs-built_in">echo</span> NO;<span class="hljs-keyword">fi</span><br></code></pre></div></td></tr></table></figure>
<h3 id="结尾"><a class="markdownIt-Anchor" href="#结尾"></a> 结尾</h3>
<p>大概就这样吧…👴💔<br />
以后在补充补充🍑</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Linux/">Linux</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Linux/">Linux</a>
                    
                      <a class="hover-with-bg" href="/tags/Shell/">Shell</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/v2ray-ws-tls/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">v2ray ws tls</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/kde-panel-transparency/">
                        <span class="hidden-mobile">KDE Panel透明</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"AzPbImmMjm5nQc1Xm9ulWCoH-gzGzoHsz","appKey":"xJqILn8nSbhYmdkB2VVQm8vI","placeholder":"说点什么","path":"window.location.pathname","avatar":"retro","meta":["nick","mail","link"],"pageSize":10,"lang":"zh-CN","highlight":true,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false,"requiredFields":[]},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud 统计PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            总访问量 
            <span id="leancloud-site-pv"></span>
             次
          </span>
      
      
        <!-- LeanCloud 统计UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            总访客数 
            <span id="leancloud-site-uv"></span>
             人
          </span>
      

    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>





  

  
    <!-- KaTeX -->
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.10/dist/katex.min.css" />
  








  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
